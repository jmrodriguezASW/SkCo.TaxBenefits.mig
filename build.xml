<?xml version="1.0" encoding="windows-1252" ?>
<!--Ant buildfile generated by Oracle JDeveloper-->
<!--Generated Dec 7, 2015 12:50:16 PM-->
<project xmlns="antlib:org.apache.tools.ant" name="TaxBenefits" default="all" basedir=".">
  <property file="build.properties"/>
  
  <!-- ANT Contrib tasks definition - used for 'foreach' task in sqlj-compile -->
  <taskdef resource="net/sf/antcontrib/antcontrib.properties"/>
  
  <!-- CLASSPATH Libraries. All .jars must be versioned under /lib folder -->
  <path id="library.Additional.Classpath">
    <pathelement location="public_html/WEB-INF/lib/bc4jstruts.jar"/>
    <pathelement location="public_html/WEB-INF/lib/commons-beanutils.jar"/>
    <pathelement location="public_html/WEB-INF/lib/commons-collections.jar"/>
    <pathelement location="public_html/WEB-INF/lib/commons-digester.jar"/>
    <pathelement location="public_html/WEB-INF/lib/commons-fileupload.jar"/>
    <pathelement location="public_html/WEB-INF/lib/commons-lang.jar"/>
    <pathelement location="public_html/WEB-INF/lib/commons-logging.jar"/>
    <pathelement location="public_html/WEB-INF/lib/commons-validator.jar"/>
    <pathelement location="public_html/WEB-INF/lib/struts.jar"/>
  </path>
  <path id="library.JPS.Designtime">
    <pathelement location="lib/jdev/oracle_common/modules/oracle.jps_11.1.1/jps-ee.jar"/>
  </path>
  <path id="library.JDeveloper.Runtime">
    <pathelement location="lib/jdev/oracle/jdev/lib/jdev-rt.jar"/>
  </path>
  <path id="library.JSP.Runtime">
    <pathelement location="lib/jdev/modules/javax.servlet_1.0.0.0_2-5.jar"/>
    <pathelement location="lib/jdev/modules/javax.jsp_1.2.0.0_2-1.jar"/>
    <pathelement location="lib/jdev/modules/glassfish.el_1.0.0.0_2-1.jar"/>
  </path>
  <path id="library.Oracle.JDBC">
    <pathelement location="lib/jdev/oracle/ojdbc6.jar"/>
    <pathelement location="lib/jdev/oracle_common/modules/oracle.nlsrtl_11.1.0/orai18n.jar"/>
    <pathelement location="lib/jdev/oracle_common/modules/oracle.odl_11.1.1/ojdl.jar"/>
    <pathelement location="lib/jdev/oracle_common/modules/oracle.dms_11.1.1/dms.jar"/>
  </path>
  <path id="library.SQLJ.Runtime">
    <pathelement location="lib/jdev/oracle/sqlj/lib/runtime12.jar"/>
  </path>
  <path id="library.Javax">
    <pathelement location="lib/javax"/>
  </path>
  <path id="library.js">
    <pathelement location="lib/js"/>
  </path>
  <path id="library.Nekohtml.jar">
    <pathelement location="lib/nekohtml.jar"/>
  </path>
  <path id="library.XercesImpl-2.0.0.jar">
    <pathelement location="lib/xercesImpl-2.0.0.jar"/>
  </path>
  <path id="library.Batik-1.1.1.jar">
    <pathelement location="lib/batik-1.1.1.jar"/>
  </path>
  <path id="library.Antisamy.jar">
    <pathelement location="lib/antisamy.jar"/>
  </path>
  <path id="library.Log4j-1.2.14.jar">
    <pathelement location="lib/log4j-1.2.14.jar"/>
  </path>
  <path id="library.Adf-loc.jar">
    <pathelement location="lib/adf-loc.jar"/>
  </path>
  <path id="library.Classes12.jar">
    <pathelement location="lib/classes12.jar"/>
  </path>
  <path id="library.Com">
    <pathelement location="lib/com"/>
  </path>
  <path id="library.Jt400Native.jar">
    <pathelement location="lib/jt400Native.jar"/>
  </path>
  <path id="library.Logging-log4j-1.3alpha-8">
    <pathelement location="lib/logging-log4j-1.3alpha-8"/>
  </path>
  <path id="library.Oracle">
    <pathelement location="lib/oracle"/>
  </path>
  <path id="library.Org">
    <pathelement location="lib/org"/>
  </path>
  <path id="classpath">
    <path refid="library.Additional.Classpath"/>
    <path refid="library.JDeveloper.Runtime"/>
    <path refid="library.JPS.Designtime"/>
    <path refid="library.JSP.Runtime"/>
    <path refid="library.Oracle.JDBC"/>
    <path refid="library.SQLJ.Runtime"/>
    <path refid="library.Javax"/>
    <path refid="library.js"/>
    <path refid="library.Nekohtml.jar"/>
    <path refid="library.XercesImpl-2.0.0.jar"/>
    <path refid="library.Batik-1.1.1.jar"/>
    <path refid="library.Antisamy.jar"/>
    <path refid="library.Log4j-1.2.14.jar"/>
    <path refid="library.Adf-loc.jar"/>
    <path refid="library.Classes12.jar"/>
    <path refid="library.Com"/>
    <path refid="library.Jt400Native.jar"/>
    <path refid="library.Logging-log4j-1.3alpha-8"/>
    <path refid="library.Oracle"/>
    <path refid="library.Org"/>
  </path>
  
  <!-- ANT Tasks -->
  <target name="init">
    <tstamp/>
    <mkdir dir="${output.dir}"/>
    <mkdir dir="${dist.dir}"/>
  </target>
  
  <target name="all" description="Build the project" depends="compile,copy,ear"/>
  
  <target name="clean" description="Clean the project">
    <delete includeemptydirs="true" quiet="false">
      <fileset dir="${output.dir}" includes="**/*"/>
      <fileset dir="${dist.dir}" includes="**/*"/>
    </delete>
  </target>
  
  <target name="sqlj-init">
    <tstamp/>
    <mkdir dir="${sources.dir}/sqlj-gen"/>
    <delete includeemptydirs="true" quiet="false">
      <fileset dir="${sources.dir}/sqlj-gen" includes="**/*"/>
    </delete>
  </target>
  
  <target name="sqlj-translate" description="Translate .sqlj files to generate Java source files" depends="init,sqlj-init">
    <foreach target="sqlj-tool" param="sqljfile">
      <path>
        <fileset dir="src">
          <include name="**/*.sqlj"/>
        </fileset>
      </path>
    </foreach>
  </target>
  
  <target name="sqlj-tool">
    <echo message="Translating .sqlj file: ${sqljfile}" />
    <java fork="yes" classname="sqlj.tools.Sqlj">
      <classpath>
        <path refid="library.SQLJ.Runtime"/>
        <path refid="library.Oracle.JDBC"/>
        <path refid="library.JSP.Runtime"/>
        <pathelement location="lib/jdev/oracle/sqlj/lib/translator.jar"/>
      </classpath>
      <arg value="${sqljfile}" />
      <arg value="-compile=false" />
      <arg value="-codegen=oracle" />
      <arg value="-dir=${sources.dir}/sqlj-gen" />
    </java>
  </target>
  
  <target name="compile" description="Compile Java source files" depends="init,clean,sqlj-translate">
    <javac destdir="${output.dir}" classpathref="classpath" debug="${javac.debug}" nowarn="${javac.nowarn}"
           deprecation="${javac.deprecation}" encoding="Cp1252" source="1.5" target="1.5" includeantruntime="false">
      <src path="${sources.dir}"/>
    </javac>
  </target>
  
  <target name="copy" description="Copy files to output directory" depends="init">
    <patternset id="copy.patterns">
      <include name="**/*.gif"/>
      <include name="**/*.properties"/>
      <include name="**/*.jpg"/>
      <include name="**/*.jpeg"/>
      <include name="**/*.xml"/>
      <include name="**/*-apf.xml"/>
    </patternset>
    <copy todir="${output.dir}">
      <fileset dir="src">
        <patternset refid="copy.patterns"/>
      </fileset>
      <fileset dir=".">
        <patternset refid="copy.patterns"/>
      </fileset>
    </copy>
  </target>
  
  <target name="war" description="Build WAR file">
    <zip destfile="${dist.dir}/${dist.warfile}" compress="false">
      <zipfileset dir="${web.dir}">
      </zipfileset>
      
      <zipfileset dir="./classes" prefix="WEB-INF/classes">
        <exclude name=".adf/" />
        <exclude name="lib/" />
        <exclude name="build.properties" />
        <exclude name="build.xml" />
      </zipfileset>
    </zip>
  </target>
  
  <target name="ear" description="Build EAR file" depends="war">
    <zip destfile="${dist.dir}/${dist.earfile}" compress="false">
    
      <zipfileset dir="./src">
        <exclude name="sqlj-gen/" />
      </zipfileset>
      
      <zipfileset dir=".adf/META-INF" includes="adf-config.xml" fullpath="adf/META-INF/adf-config.xml"/>
      <zipfileset file="./lib/adf-loc.jar" prefix="lib" />
      <zipfileset file="./lib/runtime12ee.jar" />
      <zipfileset file="${dist.dir}/${dist.warfile}" />
    </zip>
  </target>
</project>
